
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Installing &#8212; Ampel 0.7.0a0 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="People involved" href="people.html" />
    <link rel="prev" title="Running the automated tests" href="testing.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="people.html" title="People involved"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="testing.html" title="Running the automated tests"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Ampel 0.7.0a0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Installing</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installing">
<h1>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h1>
<p>Ampel is written in Python 3.6, and split into multiple packages (see <a class="reference internal" href="projects/index.html#projects"><span class="std std-ref">Ampel projects</span></a> for a full list). Of these, you should only need ampel-base and an instrument-specific package like ampel-ztf.</p>
<p>There are a number of ways to install Ampel for local development and testing. We recommend <a class="reference internal" href="#conda-dedicated"><span class="std std-ref">Option 1: Dedicated conda environment</span></a>.</p>
<div class="section" id="option-1-dedicated-conda-environment">
<span id="conda-dedicated"></span><h2>Option 1: Dedicated <cite>conda</cite> environment<a class="headerlink" href="#option-1-dedicated-conda-environment" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://conda.io/miniconda.html">Install miniconda</a>.</p></li>
<li><p>Download the <a class="reference download internal" download="" href="_downloads/cdf3819f0ca23908d4bca1e1b27a0df4/ampel-environment.yml"><code class="xref download docutils literal notranslate"><span class="pre">environment</span> <span class="pre">definition</span> <span class="pre">file</span></code></a>, displayed below. Replace XXX with the Ampel repository password, available upon request. You may also change the name of the environment (ampel-dev by default) if you so wish.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">:</span> <span class="n">ampel</span><span class="o">-</span><span class="n">dev</span>
<span class="n">channels</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">ampel</span><span class="p">:</span><span class="n">XXX</span><span class="nd">@www</span><span class="o">-</span><span class="n">zeuthen</span><span class="o">.</span><span class="n">desy</span><span class="o">.</span><span class="n">de</span><span class="o">/~</span><span class="n">jvsanten</span><span class="o">/</span><span class="n">ampel</span><span class="o">/</span><span class="n">conda</span>
  <span class="o">-</span> <span class="n">ampelproject</span>
  <span class="o">-</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span>
<span class="n">dependencies</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">ampel</span><span class="o">-</span><span class="n">base</span>
  <span class="o">-</span> <span class="n">ampel</span><span class="o">-</span><span class="n">core</span>
  <span class="o">-</span> <span class="n">ampel</span><span class="o">-</span><span class="n">ztf</span>
  <span class="o">-</span> <span class="n">ampel</span><span class="o">-</span><span class="n">contrib</span><span class="o">-</span><span class="n">hu</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Create the environment: <cite>conda env create -f ampel-environment.yml</cite></p></li>
<li><p>Activate the environment: <cite>source activate ampel-dev</cite>.</p></li>
</ol>
<p>If you later add packages (or new dependencies to support your contribution), add them to the environment file and <cite>conda env update -f ampel-environment.yml</cite>.</p>
<p>To use your contribution with the core Ampel packages, run <cite>pip install -e .</cite> in its source directory. This links your package source into the environment’s search path, making e.g. <cite>ampel.contrib.yourgroup.t2.YourT2Unit</cite> importable.</p>
</div>
<div class="section" id="option-2-add-to-existing-conda-environment">
<h2>Option 2: Add to existing <cite>conda</cite> environment<a class="headerlink" href="#option-2-add-to-existing-conda-environment" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Activate your target conda environment.</p></li>
<li><p>Add some custom channels to search for packages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>for channel in conda-forge ampelproject https://ampel:XXX@www-zeuthen.desy.de/~jvsanten/ampel/conda; do
  conda config --env --add channels $channel
done
</pre></div>
</div>
</li>
<li><p>Install Ampel packages, e.g. <cite>conda install ampel-ztf</cite>, and <cite>pip install</cite> your own contributions as described above.</p></li>
</ol>
</div>
<div class="section" id="option-3-custom-python-environment">
<h2>Option 3: Custom Python environment<a class="headerlink" href="#option-3-custom-python-environment" title="Permalink to this headline">¶</a></h2>
<p>If you have strong opinions about how your system is set up, you can also install all Ampel components by hand. We recommend, however, that you at least use virtualenv to isolate yourself from your base OS Python install. You will need at least Python 3.6.</p>
</div>
<div class="section" id="running-the-full-chain">
<h2>Running the full chain<a class="headerlink" href="#running-the-full-chain" title="Permalink to this headline">¶</a></h2>
<p>To run the full Ampel processing chain implemented in the ampel-core project, you will need MongoDB (&gt;= 3.6). It is easily run via Docker, or you may install it locally.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/ampel.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="testing.html"
                        title="previous chapter">Running the automated tests</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="people.html"
                        title="next chapter">People involved</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="people.html" title="People involved"
             >next</a> |</li>
        <li class="right" >
          <a href="testing.html" title="Running the automated tests"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Ampel 0.7.0a0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Installing</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Ampel Project.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>