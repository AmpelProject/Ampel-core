mongo:
  ingest:
    stock: MongoStockIngester
    t0: MongoT0Ingester
    t1: MongoT1Ingester
    t2: MongoT2Ingester
    t3: MongoT3Ingester

alias:
  t3:
    '%TRANSIENT':
      col: stock
    '%STOCK':
      col: stock
    '%DATAPOINT':
      col: t0
    '%T0':
      col: t0
    '%COMPOUND':
      col: t1
    '%T1':
      col: t1
    '%T2DOC':
      col: t2
    '%T2DOC_WITH_CONF':
      col: t2
      resolve_config: true
    '%T2':
      col: t2
    '%T2RECORD':
      col: t2

resource:
  '%mongo': mongodb://localhost:27017
  '%extcats': mongodb://localhost:27017

template:
  hash_t2_config: ampel.config.alter.HashT2Config
  resolve_run_time_aliases: ampel.config.alter.ResolveRunTimeAliases

process:
  - name: DefaultT2Process
    tier: 2
    schedule: every(5).minutes
    processor:
      unit: T2Worker
