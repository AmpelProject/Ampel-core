db:
  prefix: AmpelTest

unit:

  controller:
    - ampel.t0.T0Controller
    - ampel.t3.T3Controller

  admin:
    - ampel.ingest.PointT2Ingester
    - ampel.t3.T3Processor
    - ampel.t3.context.T3AddLastRunTime
    - ampel.t3.context.T3AddAlertsNumber
    - ampel.t3.select.T3StockSelector
    - ampel.t3.load.T3SimpleDataLoader
    - ampel.t3.load.T3LatestStateDataLoader
    - ampel.t3.complement.T3RandIntAppender
    - ampel.t3.complement.T3ExtJournalAppender
    - ampel.t3.complement.T3LegacyExtJournalAppender
    - ampel.t3.run.T3UnitRunner
    - ampel.t3.run.T3ChannelUnitRunner
    - ampel.t3.run.T3DynamicUnitRunnner

  base:
    - ampel.demo.unit.base.DemoPointT2Unit
    - ampel.demo.unit.base.DemoFirstPointT2Unit
    - ampel.demo.unit.base.DemoT3Unit

  aux:
    - ampel.aux.filter.SimpleDictArrayFilter
    - ampel.aux.filter.FlatDictArrayFilter
    - ampel.t3.run.project.T3ChannelProjector
    - ampel.t3.run.filter.T3AmpelBufferFilter

alias:
  t3:
    '%TRANSIENT':
      col: stock
    '%STOCK':
      col: stock
    '%DATAPOINT':
      col: t0
    '%T0':
      col: t0
    '%COMPOUND':
      col: t1
    '%T1':
      col: t1
    '%T2RECORD':
      col: t2
    '%T2':
      col: t2
    '%LOGRECORD':
      col: logs
    '%LOG':
      col: logs

template:
  legacy_simple_process: ampel.model.template.LegacyT3Process1

resource:

  '%mongo':
    writer: mongodb://localhost:27017
    logger: mongodb://localhost:27017

  '%extcats':
    reader: mongodb://localhost:27017
    writer: mongodb://localhost:27017
